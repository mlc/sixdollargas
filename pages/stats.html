<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>graph</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@6.2.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@6.4.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@7.0.2"></script>
    <style type="text/css">
      #vis {
        width: 100%;
        max-width: 600px;
      }
    </style>
  </head>
  <body>
    <div id="vis"></div>
    <script type="text/javascript">
      const spec = {
        $schema: 'https://vega.github.io/schema/vega-lite/v6.json',
        data: {
          url: '/stats',
        },
        width: 'container',
        height: 400,
        mark: 'line',
        encoding: {
          x: {
            field: 'date',
            type: 'temporal',
          },
          y: {
            field: 'price',
            type: 'quantitative',
            scale: {
              domain: [1.2, 1.7],
            },
          },
        },
      };
      vegaEmbed('#vis', spec);
    </script>
  </body>
</html>
